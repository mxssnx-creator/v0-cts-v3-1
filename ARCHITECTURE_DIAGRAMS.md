# System Architecture & Flow Diagrams

## ğŸ—ï¸ System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Frontend (Next.js)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚   Login      â”‚  â”‚  Dashboard   â”‚  â”‚   Install    â”‚       â”‚
â”‚  â”‚   Page       â”‚  â”‚   Page       â”‚  â”‚   Page       â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚         â”‚                  â”‚                  â”‚               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚      DatabaseInitializer Component                 â”‚      â”‚
â”‚  â”‚  (Auto-runs on page load - checks DB status)      â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚         â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â”‚ API Calls
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   API Layer (Route Handlers)                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ Auth Endpoints                â”‚ System Endpoints         â”‚
â”‚  â”‚ â€¢ /login     â”‚  â”‚ â€¢ /status    â”‚  â”‚ â€¢ /metrics   â”‚       â”‚
â”‚  â”‚ â€¢ /me        â”‚  â”‚              â”‚  â”‚              â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ Install Endpoints                                  â”‚     â”‚
â”‚  â”‚ â€¢ /initialize   (create schema + admin user)       â”‚     â”‚
â”‚  â”‚ â€¢ /migrate      (run migrations)                   â”‚     â”‚
â”‚  â”‚ â€¢ /reset        (delete + recreate)                â”‚     â”‚
â”‚  â”‚ â€¢ /status       (check migration progress)         â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ Admin        â”‚  â”‚ Preset       â”‚  â”‚ Data         â”‚       â”‚
â”‚  â”‚ â€¢ /reinit-db â”‚  â”‚ â€¢ /types     â”‚  â”‚ â€¢ /metrics   â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â”‚ Database Queries
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              SQLite Database Layer                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  crypto_trading.db (SQLite File)                â”‚       â”‚
â”‚  â”‚  â€¢ WAL Mode enabled                            â”‚       â”‚
â”‚  â”‚  â€¢ 7 Tables total                              â”‚       â”‚
â”‚  â”‚  â€¢ Automatic schema creation                   â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                               â”‚
â”‚  Tables:                                                     â”‚
â”‚  â€¢ users               â† Admin user created here             â”‚
â”‚  â€¢ trading_presets                                          â”‚
â”‚  â€¢ portfolio_items                                          â”‚
â”‚  â€¢ market_data                                              â”‚
â”‚  â€¢ trading_history                                          â”‚
â”‚  â€¢ risk_profiles                                            â”‚
â”‚  â€¢ alerts                                                   â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Initialization Flow

```
App Starts
    â”‚
    â–¼
Layout Component
    â”‚
    â”œâ”€ Imports DatabaseInitializer
    â”‚
    â””â”€â”€â”
       â”‚ (useEffect on mount)
       â”‚
       â–¼
   Check /api/system/status
       â”‚
       â”œâ”€ Database exists & initialized?
       â”‚       â”‚
       â”‚       YES â”€â”€â”
       â”‚       â”‚     â””â”€â–º Show success âœ“
       â”‚       â”‚
       â”‚       NO â”€â”€â”
       â”‚            â”‚
       â”‚            â–¼
       â”‚        Call /api/install/initialize
       â”‚            â”‚
       â”‚            â”œâ”€ Run: /scripts/init-db.js
       â”‚            â”‚
       â”‚            â”œâ”€ Create all 7 tables:
       â”‚            â”‚  â€¢ users
       â”‚            â”‚  â€¢ trading_presets
       â”‚            â”‚  â€¢ portfolio_items
       â”‚            â”‚  â€¢ market_data
       â”‚            â”‚  â€¢ trading_history
       â”‚            â”‚  â€¢ risk_profiles
       â”‚            â”‚  â€¢ alerts
       â”‚            â”‚
       â”‚            â”œâ”€ Insert default admin:
       â”‚            â”‚  â€¢ Username: Admin
       â”‚            â”‚  â€¢ Password: 00998877 (hashed)
       â”‚            â”‚  â€¢ Email: mxssnx@gmail.com
       â”‚            â”‚  â€¢ Role: admin
       â”‚            â”‚
       â”‚            â–¼
       â”‚        Success notification âœ“
       â”‚
       â–¼
   Page can now load
   User sees dashboard/login
```

---

## ğŸ” Authentication Flow

```
User Visits App
    â”‚
    â–¼
Check if authenticated (Home page)
    â”‚
    â”œâ”€ Has session cookie?
    â”‚  YES â”€â”€â–º Show Dashboard âœ“
    â”‚  NO  â”€â”€â–º Redirect to /login
    â”‚
    â–¼
Login Page
    â”‚
    â”œâ”€ Show default credentials info
    â”œâ”€ Display login form
    â”‚
    â–¼
User enters credentials
    â”‚
    â”œâ”€ Username: Admin
    â”œâ”€ Password: 00998877
    â””â”€ Email: mxssnx@gmail.com
    â”‚
    â–¼
Submit to /api/auth/login
    â”‚
    â”œâ”€ Lookup user by username
    â”œâ”€ Check password (hash match)
    â”œâ”€ Verify user is active
    â”‚
    â”œâ”€ ERROR â”€â”€â–º Show error message
    â”‚
    â””â”€ SUCCESS â”€â”€â–º Set session cookie
                  Redirect to /dashboard
    â”‚
    â–¼
Dashboard loads
    â”‚
    â””â”€â–º Full access to app features âœ“
```

---

## ğŸ› ï¸ Admin Control Flow

```
Admin visits /install page
    â”‚
    â–¼
Fetch /api/system/status
    â”‚
    â”œâ”€ Get table count
    â”œâ”€ Get user count
    â”œâ”€ Check admin exists
    â”‚
    â–¼
Display System Status Dashboard
    â”‚
    â”œâ”€ Tables: 7/7
    â”œâ”€ Users: 1
    â”œâ”€ Admin: âœ“ Exists
    â”‚
    â–¼
Choose Action:
    â”‚
    â”œâ”€ [Initialize Database]
    â”‚       â”‚
    â”‚       â–¼
    â”‚   POST /api/install/initialize
    â”‚   â€¢ Creates schema
    â”‚   â€¢ Creates admin user
    â”‚   â€¢ Returns status
    â”‚
    â”œâ”€ [Run Migrations]
    â”‚       â”‚
    â”‚       â–¼
    â”‚   POST /api/install/migrate
    â”‚   â€¢ Runs migration scripts
    â”‚   â€¢ Updates schema
    â”‚   â€¢ Returns status
    â”‚
    â””â”€ [Reset Database]
            â”‚
            â–¼
        Confirm action?
            â”‚
            â”œâ”€ YES
            â”‚   â”‚
            â”‚   â–¼
            â”‚   POST /api/install/reset
            â”‚   â€¢ Delete crypto_trading.db
            â”‚   â€¢ Create new database
            â”‚   â€¢ Create schema
            â”‚   â€¢ Create admin user
            â”‚   â€¢ Return success
            â”‚
            â””â”€ NO â”€â”€â–º Cancel operation
    â”‚
    â–¼
Show status notification
    â”‚
    â””â”€â–º Refresh system status display âœ“
```

---

## ğŸ“Š Database Schema

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ users (Core Table)                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)          â”‚ INTEGER                           â”‚
â”‚ username (UQ)    â”‚ TEXT â†’ Admin (default)            â”‚
â”‚ email (UQ)       â”‚ TEXT â†’ mxssnx@gmail.com (default) â”‚
â”‚ password         â”‚ TEXT (SHA256 hash)                â”‚
â”‚ role             â”‚ TEXT (admin/user)                 â”‚
â”‚ is_active        â”‚ INTEGER (1=yes, 0=no)            â”‚
â”‚ created_at       â”‚ DATETIME (auto)                   â”‚
â”‚ updated_at       â”‚ DATETIME (auto)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€ Foreign Key â”€â”€â–º trading_presets.user_id
         â”œâ”€ Foreign Key â”€â”€â–º portfolio_items.user_id
         â”œâ”€ Foreign Key â”€â”€â–º trading_history.user_id
         â”œâ”€ Foreign Key â”€â”€â–º risk_profiles.user_id
         â””â”€ Foreign Key â”€â”€â–º alerts.user_id


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ trading_presets                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)          â”‚ INTEGER                           â”‚
â”‚ user_id (FK)     â”‚ INTEGER â†’ users.id                â”‚
â”‚ preset_name      â”‚ TEXT                              â”‚
â”‚ preset_type      â”‚ TEXT                              â”‚
â”‚ buy_threshold    â”‚ REAL                              â”‚
â”‚ sell_threshold   â”‚ REAL                              â”‚
â”‚ stop_loss        â”‚ REAL                              â”‚
â”‚ take_profit      â”‚ REAL                              â”‚
â”‚ created_at       â”‚ DATETIME (auto)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ portfolio_items                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)          â”‚ INTEGER                           â”‚
â”‚ user_id (FK)     â”‚ INTEGER â†’ users.id                â”‚
â”‚ symbol           â”‚ TEXT (BTC, ETH, etc.)             â”‚
â”‚ quantity         â”‚ REAL                              â”‚
â”‚ buy_price        â”‚ REAL                              â”‚
â”‚ current_price    â”‚ REAL                              â”‚
â”‚ created_at       â”‚ DATETIME (auto)                   â”‚
â”‚ updated_at       â”‚ DATETIME (auto)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ market_data                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)          â”‚ INTEGER                           â”‚
â”‚ symbol           â”‚ TEXT                              â”‚
â”‚ price            â”‚ REAL                              â”‚
â”‚ volume           â”‚ REAL                              â”‚
â”‚ timestamp        â”‚ DATETIME (auto)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ trading_history                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)          â”‚ INTEGER                           â”‚
â”‚ user_id (FK)     â”‚ INTEGER â†’ users.id                â”‚
â”‚ symbol           â”‚ TEXT                              â”‚
â”‚ action           â”‚ TEXT (BUY/SELL)                   â”‚
â”‚ quantity         â”‚ REAL                              â”‚
â”‚ price            â”‚ REAL                              â”‚
â”‚ timestamp        â”‚ DATETIME (auto)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ risk_profiles                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)          â”‚ INTEGER                           â”‚
â”‚ user_id (FK)     â”‚ INTEGER â†’ users.id                â”‚
â”‚ profile_name     â”‚ TEXT                              â”‚
â”‚ risk_level       â”‚ TEXT                              â”‚
â”‚ max_loss_percent â”‚ REAL                              â”‚
â”‚ created_at       â”‚ DATETIME (auto)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ alerts                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)          â”‚ INTEGER                           â”‚
â”‚ user_id (FK)     â”‚ INTEGER â†’ users.id                â”‚
â”‚ symbol           â”‚ TEXT                              â”‚
â”‚ alert_type       â”‚ TEXT                              â”‚
â”‚ threshold        â”‚ REAL                              â”‚
â”‚ is_active        â”‚ INTEGER (1=yes, 0=no)            â”‚
â”‚ created_at       â”‚ DATETIME (auto)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¡ API Request/Response Examples

### Login
```
POST /api/auth/login
Content-Type: application/json

{
  "username": "Admin",
  "password": "00998877",
  "email": "mxssnx@gmail.com"
}

Response (200):
{
  "success": true,
  "message": "Login successful",
  "user": {
    "id": 1,
    "username": "Admin",
    "email": "mxssnx@gmail.com",
    "role": "admin"
  }
}
```

### System Status
```
GET /api/system/status

Response (200):
{
  "status": "ok",
  "initialized": true,
  "tableCount": 7,
  "userCount": 1,
  "adminExists": true
}
```

### Migration Status
```
GET /api/install/migrations-status

Response (200):
{
  "allComplete": true,
  "completedTables": [
    "users",
    "trading_presets",
    "portfolio_items",
    "market_data",
    "trading_history",
    "risk_profiles",
    "alerts"
  ],
  "missingTables": [],
  "completedCount": 7,
  "missingCount": 0,
  "totalTables": 7
}
```

---

## ğŸ¯ Success Criteria Met

âœ… SQLite database auto-initializes after page load  
âœ… Settings/Overall/Install pages working  
âœ… Migration button available  
âœ… Direct init and reset options  
âœ… All migrations verified complete  
âœ… Default admin user created  
âœ… Login system functional  
âœ… Dashboard accessible  

**STATUS: READY FOR PRODUCTION** ğŸš€
